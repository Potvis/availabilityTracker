<h3 style="padding: 0 8px; margin: 10px 0 5px;">ðŸ“… {{ title }}</h3>
<div style="padding: 0 8px;">
    <div style="margin-bottom: 8px;">
        <label style="font-size: 12px; color: #666; display: block; margin-bottom: 3px;">Van:</label>
        <input type="date" name="date_from" id="id_date_from"
               value="{{ request.GET.date_from }}"
               style="width: 100%; padding: 6px 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 13px;">
    </div>
    <div style="margin-bottom: 8px;">
        <label style="font-size: 12px; color: #666; display: block; margin-bottom: 3px;">Tot:</label>
        <input type="date" name="date_to" id="id_date_to"
               value="{{ request.GET.date_to }}"
               style="width: 100%; padding: 6px 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 13px;">
    </div>
    <div style="display: flex; gap: 5px;">
        <button type="submit" style="flex: 1; padding: 6px; background: #417690; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
            Filteren
        </button>
        <a href="?" style="flex: 1; padding: 6px; background: #999; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; text-align: center; text-decoration: none;">
            Reset
        </a>
    </div>
</div>
<script>
(function() {
    // Make the date inputs submit via URL params (GET) on change
    var form = null;
    var fromInput = document.getElementById('id_date_from');
    var toInput = document.getElementById('id_date_to');

    function applyDateFilter() {
        var params = new URLSearchParams(window.location.search);
        var dateFrom = fromInput.value;
        var dateTo = toInput.value;

        if (dateFrom) {
            params.set('date_from', dateFrom);
        } else {
            params.delete('date_from');
        }
        if (dateTo) {
            params.set('date_to', dateTo);
        } else {
            params.delete('date_to');
        }

        // Remove the session_date_filter param since we use custom params
        params.delete('session_date_filter');

        window.location.search = params.toString();
    }

    // Find the submit button and attach click handler
    var submitBtn = fromInput.closest('div').parentElement.querySelector('button[type="submit"]');
    if (submitBtn) {
        submitBtn.addEventListener('click', function(e) {
            e.preventDefault();
            applyDateFilter();
        });
    }

    // Also set values from URL on page load
    var urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('date_from')) fromInput.value = urlParams.get('date_from');
    if (urlParams.get('date_to')) toInput.value = urlParams.get('date_to');
})();
</script>
